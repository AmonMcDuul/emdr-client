<div class="emdr-client">
  <!-- Visual Container -->
  <div class="emdr-visualization">
    <!-- Ball Element -->
    <div class="ball" 
         [ngStyle]="{ 'transform': 'translateX(' + ballPosition + 'px)' }">
    </div>
    
    <!-- Math Distraction -->
    @if(enabledDistraction!() && distractionType === 'math'){
      <div class="distraction math">
        {{ distractionText }}
      </div>
    }
    
    <!-- Bubble Distraction -->
    @if(enabledDistraction!() && distractionType === 'bubbles'){
      @for(bubble of bubbles; track bubble){
        <div class="bubble" 
             [ngStyle]="{
               'width': bubble.size + 'px',
               'height': bubble.size + 'px',
               'left': bubble.x + '%',
               'top': bubble.y + '%',
               'animation-duration': (10 / bubble.speed) + 's',
               'animation-delay': bubble.delay + 's'
             }">
        </div>
      }
    }
    
    <!-- Center Guide Line -->
    <div class="center-line"></div>
  </div>
  
  <!-- Status Bar -->
  <div class="status-bar">
    <div class="speed-indicator">
      <i class="fas fa-tachometer-alt"></i>
      <span>Speed: {{ speed }}</span>
    </div>
    <div class="connection-status">
      <i class="fas fa-circle" [ngClass]="{ 'connected': isConnected }"></i>
      {{ isConnected ? 'Connected' : 'Disconnected' }}
    </div>
  </div>
</div>